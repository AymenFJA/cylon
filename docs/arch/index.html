<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-173169112-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-173169112-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/konpa/devicon@master/devicon.min.css"><title data-react-helmet="true">Architecture | Cylon</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Architecture | Cylon"><meta data-react-helmet="true" name="description" content="Cylon is a data engineering toolkit designed to work with AI/ML systems and"><meta data-react-helmet="true" property="og:description" content="Cylon is a data engineering toolkit designed to work with AI/ML systems and"><meta data-react-helmet="true" property="og:url" content="https://cylondata.org/docs/arch"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://cylondata.org/docs/arch"><link rel="stylesheet" href="/styles.9f0d4f8a.css">
<link rel="preload" href="/styles.d3f80ff9.js" as="script">
<link rel="preload" href="/runtime~main.9d0aee5b.js" as="script">
<link rel="preload" href="/main.ee7dcd19.js" as="script">
<link rel="preload" href="/1.d804aba8.js" as="script">
<link rel="preload" href="/2.d61cb953.js" as="script">
<link rel="preload" href="/18.952185bd.js" as="script">
<link rel="preload" href="/19.3faccdaa.js" as="script">
<link rel="preload" href="/20ac7829.71509cc0.js" as="script">
<link rel="preload" href="/17896441.05c8c524.js" as="script">
<link rel="preload" href="/99f1663a.01c33415.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="Cylon"></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="Cylon"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Setting Up</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Compiling</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/arch">Architecture</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Develop</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cpp">C++</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python">PyCylon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/java">JCylon</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Running Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/mpi">Run with MPI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Publications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pub">Publications</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Architecture</h1></header><div class="markdown"><p><a href="https://github.com/cylondata/cylon" target="_blank" rel="noopener noreferrer">Cylon</a> is a data engineering toolkit designed to work with AI/ML systems and
integrate with data processing systems. <em>&quot;Data engineering everywhere&quot;</em> is the main vision of Cylon. </p><img alt="Data Engineering Everywhere" src="/img/docs/wheel.png"><p>It can be deployed either as a library or a framework.
Big Data systems like <a href="https://spark.apache.org/" target="_blank" rel="noopener noreferrer">Apache Spark</a>, <a href="https://flink.apache.org/" target="_blank" rel="noopener noreferrer">Apache Flink</a>, <a href="https://twister2.org/" target="_blank" rel="noopener noreferrer">Twister2</a>, etc may use Cylon to boost the performance
in the ETL pipeline. For AI/ML systems like <a href="https://pytorch.org/" target="_blank" rel="noopener noreferrer">PyTorch</a>, <a href="https://www.tensorflow.org/" target="_blank" rel="noopener noreferrer">Tensorflow</a> and <a href="https://mxnet.apache.org/" target="_blank" rel="noopener noreferrer">Apache MXNet</a>,
Cylon acts as a library to enhance ETL performance. Additionally, Cylon is being expanded to perform as a generic framework
for supporting ETL and efficient distributed modeling of AI/ML workloads. </p><p>Cylon currently provides a set of distributed data-parallel operators to extract, transform and load structured
relational data. These operators are exposed as APIs in multiple programming languages (e.g., C++, Python, Java)
that are commonly used in Machine Learning and Artificial Intelligence platforms, enabling tight integration with them.
When an operator is invoked in any of these platforms, that invocation is delegated to the &quot;Core Cylon&quot; framework,
which implements the actual logic to perform the operation in a distributed setting.</p><img alt="Core Cylon Architecture" src="/img/docs/arch.png"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="data-model"></a>Data Model<a aria-hidden="true" tabindex="-1" class="hash-link" href="#data-model" title="Direct link to heading">#</a></h2><p>Cylon workloads can be categorized as Online Analytical Processing (OLAP). The data layer of Cylon is based on <a href="https://arrow.apache.org/" target="_blank" rel="noopener noreferrer">Apache Arrow</a>.
<em>Arrow Columnar Format</em> provides the foundation for Cylon Table API. </p><p>Using Apache Arrow has a number of advantages. </p><ul><li><p>Seamless integration of other open source frameworks (ex: Spark, Pandas, Parquet, NumPy, etc)</p></li><li><p>Zero copy reads, which drastically reduces the overhead of switching between language runtimes</p></li><li><p>Allows SIMD operations on columns, data locality and cache, and effective compression of data.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="operators"></a>Operators<a aria-hidden="true" tabindex="-1" class="hash-link" href="#operators" title="Direct link to heading">#</a></h2><p>Cylon offers both <em>local</em> and <em>distributed</em> operations. </p><ul><li><p><em>Local operators</em> - Work entirely on the data available and accessible locally to the process (Do not use network layer)</p></li><li><p><em>Distributes Operators</em> - Use the network layer at one or multiple points during the operatorâ€™s life-cycle
(beginning, middle, or end) and apply <em>local operators</em> once the partitions are collected at each local process</p></li></ul><p>Following operators are currently available in Cylon. </p><ol><li><p><strong>Select</strong> - Filters out a set of rows based on the values of all or a subset of columns</p></li><li><p><strong>Project</strong> - Creates a simpler view of an existing table by dropping one or more columns (It is considered the
counterpart of Select, which works on columns instead of rows.</p></li><li><p><strong>Join</strong> - Combines two tables based on the values of a common column (Inner, Left Outer, Right Outer, Full Outer
joins are supported). Currently Cylon joins provide <em>sort</em> and <em>hash</em> join algorithms. </p></li><li><p><strong>Union</strong> - Concatenates two homogeneous tables (those having similar schema)</p></li><li><p><strong>Intersect</strong> - Produces similar(equal) rows from two homogeneous tables</p></li><li><p><strong>Difference</strong> - Takes the difference between two tables </p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="communication-layer"></a>Communication Layer<a aria-hidden="true" tabindex="-1" class="hash-link" href="#communication-layer" title="Direct link to heading">#</a></h2><p>The communication layer of Cylon is currently implemented on OpenMPI. An implementation based on UCX is on the road-map
which will enhance Cylonâ€™s compatibility to run on a wide variety of hardware devices such as GPUs, and different
processor architectures. Transport layer options will also be widened with different communication layer implementations.
Cylon uses synchronized producers and consumers for transferring messages.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="transport-layer"></a>Transport Layer<a aria-hidden="true" tabindex="-1" class="hash-link" href="#transport-layer" title="Direct link to heading">#</a></h2><p>Currently, Cylon has the capability to communicate using any transport layer protocol supported by OpenMPI,
including TCP and Infiniband. Additionally, all the tuning parameters of OpenMPI are applicable for Cylon
since the initial implementation is entirely written based on the OpenMPI framework.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="data-processing-everywhere"></a><em>Data Processing Everywhere</em><a aria-hidden="true" tabindex="-1" class="hash-link" href="#data-processing-everywhere" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="data-processing-library"></a>Data Processing Library<a aria-hidden="true" tabindex="-1" class="hash-link" href="#data-processing-library" title="Direct link to heading">#</a></h3><p>Cylon can be directly imported as a library to an application written in another framework. In a Python program, this
integration is a simple module import. Cylon Python API currently supports Google Colab with an experimental version
and supports Jupyter Notebooks with fully-fledged compatibility.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> torch </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> Tensor </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> TorchTensor</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> pycylon</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">table </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> Table</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> csv_reader</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;data.csv&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tb </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> csv_reader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">read</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;,&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Does data pre-processing</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tb_arw </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Table</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">to_arrow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">npy </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> tb_arw</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">to_pandas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">to_numpy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tensor </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> torch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">from_numpy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">npy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#...</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token macro property">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;net/mpi/mpi_communicator.h&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;ctx/cylon_context.h&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;table.hpp&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">namespace</span><span class="token plain"> cylon</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> argc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">argv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  std</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">shared_ptr</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Table</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> table1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> table2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> joined</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// initializing cylon in distributed mode</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> mpi_config </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">MPIConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> ctx </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> CylonContext</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">InitDistributed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">mpi_config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> read_options </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">CSVReadOptions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">UseThreads</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// loading multiple table partitions concurrently</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> status </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Table</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">FromCSV</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/csv1.csv&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/csv2.csv&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">table1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> table2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> read_options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">is_ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> join_config </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> JoinConfig</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">InnerJoin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> join_status </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> table1</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token function" style="color:rgb(130, 170, 255)">DistributedJoin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">table2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> join_config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">joined</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">join_status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">is_ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// writing the partition of this worker back to the disk</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      joined</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token function" style="color:rgb(130, 170, 255)">WriteCSV</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/out.csv&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// failed</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// failed</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ctx</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token function" style="color:rgb(130, 170, 255)">Finalize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="data-processing-framework"></a>Data Processing Framework<a aria-hidden="true" tabindex="-1" class="hash-link" href="#data-processing-framework" title="Direct link to heading">#</a></h3><p>Cylon can also perform as a separate standalone distributed framework to process data. As a distributed framework, Cylon
should bring up the processes in different cluster management environments such as Kubernetes, Slurm and Yarn. Cylon has
a distributed backend abstraction to plug in various cluster process management systems. Currently, it works as a
standalone framework with the MPI backend.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="performance-results"></a>Performance results<a aria-hidden="true" tabindex="-1" class="hash-link" href="#performance-results" title="Direct link to heading">#</a></h2><p>Following is the Cylon performance on Joins against Apache Spark and Dask. </p><table><thead><tr><th>Workers</th><th>Dask Time (s)</th><th>Spark Time (s)</th><th>Cylon Time (s)</th><th>Cylon v. Dask</th><th>Cylon v. Spark</th></tr></thead><tbody><tr><td>1</td><td>-</td><td>586.5</td><td>141.5</td><td>-</td><td>4.1x</td></tr><tr><td>2</td><td>-</td><td>332.8</td><td>116.2</td><td>-</td><td>2.9x</td></tr><tr><td>4</td><td>246.7</td><td>207.1</td><td>56.5</td><td>4.4x</td><td>3.7x</td></tr><tr><td>8</td><td>134.6</td><td>119.0</td><td>27.4</td><td>4.9x</td><td>4.3x</td></tr><tr><td>16</td><td>134.2</td><td>62.3</td><td>13.2</td><td>10.1x</td><td>4.7x</td></tr><tr><td>32</td><td>113.1</td><td>39.6</td><td>7.0</td><td>16.1x</td><td>5.6x</td></tr><tr><td>64</td><td>109.0</td><td>22.2</td><td>4.0</td><td>27.4x</td><td>5.6x</td></tr><tr><td>128</td><td>70.6</td><td>18.1</td><td>2.5</td><td>28.1x</td><td>7.2x</td></tr><tr><td>160</td><td>68.9</td><td>18.0</td><td>2.3</td><td>30.0x</td><td>7.8x</td></tr></tbody></table><img alt="Cylon Join Performance" src="/img/docs/join.png"></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/arch.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Compiling</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/cpp"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">C++ Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#data-model" class="table-of-contents__link">Data Model</a></li><li><a href="#operators" class="table-of-contents__link">Operators</a></li><li><a href="#communication-layer" class="table-of-contents__link">Communication Layer</a></li><li><a href="#transport-layer" class="table-of-contents__link">Transport Layer</a></li><li><a href="#data-processing-everywhere" class="table-of-contents__link"><em>Data Processing Everywhere</em></a><ul><li><a href="#data-processing-library" class="table-of-contents__link">Data Processing Library</a></li><li><a href="#data-processing-framework" class="table-of-contents__link">Data Processing Framework</a></li></ul></li><li><a href="#performance-results" class="table-of-contents__link">Performance results</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/cylondata@googlegroups.com">Mailing List</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/cylondata/cylon" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div></div></div></div></footer></div>
<script src="/styles.d3f80ff9.js"></script>
<script src="/runtime~main.9d0aee5b.js"></script>
<script src="/main.ee7dcd19.js"></script>
<script src="/1.d804aba8.js"></script>
<script src="/2.d61cb953.js"></script>
<script src="/18.952185bd.js"></script>
<script src="/19.3faccdaa.js"></script>
<script src="/20ac7829.71509cc0.js"></script>
<script src="/17896441.05c8c524.js"></script>
<script src="/99f1663a.01c33415.js"></script>
</body>
</html>